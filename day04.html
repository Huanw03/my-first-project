// 1. 模拟异步获取收藏列表(Promise 封装)
function getFavoritesData() {
  return new Promise((resolve, reject) => {
    // 模拟网络延迟1.5秒
    setTimeout(() => {
      // 模拟随机成功/失败（方便测试两种场景）
      const isSuccess = Math.random() > 0.3;//(0-1之间的随机数,大于0.3就成功，否则就失败)
      if (isSuccess) {
        const data = ['Chrome翻译', '掘金插件', '思维导图工具', 'Todo清单'];
        resolve(data); // 成功：返回数据
      } else {
        reject(new Error('网络异常，获取收藏列表失败')); // 失败：返回错误
      }
    }, 1500);
  });
}

// 2. 页面准备：创建收藏列表容器，显示加载状态
const favoriteList = document.createElement('ul');
favoriteList.className = 'favorite-list';//给容器加class,方便后续用CSS美化样式。
favoriteList.innerText = '加载中...';
document.body.appendChild(favoriteList);

// 3. 调用Promise,处理成功/失败结果
getFavoritesData()
  .then(data => {
    // 成功：清空加载提示，渲染列表
    favoriteList.innerText = '';
    favoriteList.innerHTML = data.map(item => `<li>${item}</li>`).join('');
  })
  .catch(error => {
    // 失败：清空加载提示，显示错误信息
    favoriteList.innerText = '';
    const errorTip = document.createElement('p');
    errorTip.style.color = 'red';
    errorTip.innerText = error.message;
    favoriteList.appendChild(errorTip);
  });

  <script>
  // const 声明固定数据
  const favorites = ['Chrome翻译', '掘金插件', '思维导图工具'];
  const categories = ['生产力', '娱乐', '工具'];
  // let 声明动态数据
  let currentSelectedCate = '';
</script>
<script>
  // 省略变量声明代码...
  
  // 渲染收藏列表
  const favoriteList = document.getElementById('favorite-list');
  const favoriteHtml = favorites.map(item => `<li>${item}</li>`).join('');
  favoriteList.innerHTML = favoriteHtml;

  // 渲染分类列表
  const categoryList = document.getElementById('category-list');
  const categoryHtml = categories.map(item => `<li>${item}</li>`).join('');
  categoryList.innerHTML = categoryHtml;
</script>
<script>
  // 省略变量声明、动态渲染代码...
  
  // 批量绑定点击事件
  const categoryItems = document.querySelectorAll('.category-list li');
  categoryItems.forEach(item => {
    item.onclick = () => {
      currentSelectedCate = item.innerText;
      console.log('选中分类：', currentSelectedCate);
      alert(`你选中了：${currentSelectedCate}`);
    };
  });
</script>
<script>
  // 省略上述代码...
  
  // 筛选工具类收藏项
  const toolFavorites = favorites.filter(item => item.includes('工具'));
  console.log('工具类收藏：', toolFavorites);
  // 可额外渲染筛选后的列表
</script>
<script>
  // 省略分类相关代码...
  
  function getFavoritesData() {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(['Chrome翻译', '掘金插件', '思维导图工具']);
      }, 2000);
    });
  }

  const favoriteList = document.getElementById('favorite-list');
  favoriteList.innerText = '加载中...';

  getFavoritesData().then(data => {
    const favoriteHtml = data.map(item => `<li>${item}</li>`).join('');
    favoriteList.innerHTML = favoriteHtml;
  });
</script>